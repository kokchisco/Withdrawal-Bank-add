import{U as q,P as z,O as Z,V,ah as L,m as $,Z as u,am as U,M as t,o as C,p as e,af as A,Y as s,ai as S,ao as X,ap as ee,$ as te,r as b,E as oe,ac as ne,W as se,t as H,an as pe,as as _e,T as J,a0 as ge,v as me,aO as ye}from"./common.modules-219f1756.js";import{V as Q,a as he}from"./page-login-index.vue_vue_type_script_setup_true_lang.ts-453cbe12.js";import{a as E,_ as F,a4 as we,G as be,bo as $e,A as P,bp as Ce,g as N,H as Se,b5 as xe,b0 as Ve,b1 as W,b6 as ke,bd as Te,v as De,aH as Ge,bq as Be,br as Ie,J as Me}from"./page-activity-ActivityDetail-346b11b6.js";window.getBuildInfo=function(){return{buildTime:"3/15/2025, 9:01:28 PM",branch:" commitId:c8ca98fce6fc864cab311715d288030620d0dc9f"}};const ae=i=>(X("data-v-2c18a1cc"),i=i(),ee(),i),Pe={class:"info-dialog"},Ne={class:"info-dialog-header"},Oe=ae(()=>e("span",{class:"info-dialog-header-left"},null,-1)),je=ae(()=>e("span",{class:"info-dialog-header-right"},null,-1)),Ae={class:"info-dialog-content"},Ue={class:"info-dialog-footer"},qe=q({__name:"DiaLogOther",props:{show:{type:Boolean,default:!1},title:{type:String,default:""},confirmText:{type:String,default:""},showCancelBtn:{type:Boolean,default:!1},cancelText:{type:String,default:""}},emits:["update:show","confirm","cancel","beforeClose"],setup(i,{emit:o}){const _=i,{t:y}=z(),G=Z({get(){return _.show||!1},set(r){o("update:show",r)}});function c(){}return(r,a)=>{const g=V("van-dialog"),l=L("lazy");return C(),$("div",Pe,[u(g,{show:G.value,"onUpdate:show":a[1]||(a[1]=m=>G.value=m),onCancel:a[2]||(a[2]=()=>{o("cancel")}),onConfirm:a[3]||(a[3]=()=>{o("confirm")}),"cancel-button-text":i.cancelText||t(y)("cancel"),"confirm-button-text":i.confirmText||t(y)("confirm"),"show-cancel-button":i.showCancelBtn,"before-close":c},{default:U(()=>[e("div",null,[e("div",Ne,[Oe,A(r.$slots,"header",{},()=>[e("h5",null,s(i.title),1)],!0),je]),e("div",Ae,[A(r.$slots,"content",{},()=>[e("div",null,s(r.$t("contentsHere")),1)],!0)]),e("div",Ue,[A(r.$slots,"footer",{},()=>[S(e("img",{onClick:a[0]||(a[0]=()=>{o("update:show",!1)})},null,512),[[l,t(E)("main","close")]])],!0)])])]),_:3},8,["show","cancel-button-text","confirm-button-text","show-cancel-button"])])}}});const ze=F(qe,[["__scopeId","data-v-2c18a1cc"],["__file","/usr/local/jenkins-prod/workspace/ar077-india-jalwa/src/components/common/DiaLogOther.vue"]]),Le={class:"gverify-container"},Ee={class:"gverify-container-header"},Fe={class:"gverify-container-header-belly"},Ke={alt:""},Re={class:"gverify-container-content"},Ye={class:"gverify-container-content-item"},He={class:"gverify-container-content-item-title"},Je={alt:""},Qe={class:"gverify-container-content-item-tip"},We={class:"gverify-container-content-item-tip"},Ze={class:"gravity-container-modal"},Xe={class:"popup-content"},et={key:0,class:"box"},tt={class:"info"},ot={class:"txt"},nt={class:"txt"},st={key:1,class:"box"},at={class:"info"},it={class:"txt"},lt={class:"txt"},ct={key:2,class:"box"},rt={class:"label"},dt=["placeholder"],ut={class:"lab"},vt={class:"other"},ft=q({__name:"index",setup(i){const{t:o}=z(),_=te(),y=we(),c=be().getUserInfo;let r=b(o("pwdVerify")),a=b(0),g=b(!1);const l=b(""),m=b(!1),k=b([]),O={text:"name",value:"code"},{isGoogleVerifySms:h,isGoogleVerifyEmail:T,registerState:j}=$e();j();const p=async d=>{var M,D;const n=await P(Ce({verifyCode:l.value.toString(),verifyType:d}));(M=n==null?void 0:n.data)!=null&&M.secret&&_.push({name:"GoogleVerify-BindGoogle",query:{secret:(D=n.data)==null?void 0:D.secret,type:0}})};oe(()=>{});const v=b(!1),B=()=>{l.value="",y.setCountDown(0),c.regType===1?h.value?(a.value=1,g.value=!0):c.verifyMethods.email!==""&&T.value?(a.value=2,g.value=!0):a.value=0:T.value?(a.value=2,g.value=!0):c.verifyMethods.mobile!==""&&h.value?(a.value=1,g.value=!0):a.value=0,r.value=f(a.value),v.value=!0},f=d=>{let n="";switch(d){case 0:n=o("pwdVerify");break;case 1:n=o("SMSVerify");break;case 2:n=o("emailverification");break;default:n=o("pwdVerify");break}return n},I=()=>{if(a.value===1||a.value===2){if(!l.value)return H(o("noVerifyCodeFound"))}else if(!l.value)return H(o("pwdNull"));let d=ie(a.value);p(d)},ie=d=>{let n=1;switch(d){case 0:n=2;break;case 1:n=1;break;case 2:n=4;break;default:n=2;break}return n},le=()=>{m.value=!0,T.value&&c.verifyMethods.email!==""&&h.value&&c.verifyMethods.mobile!==""?k.value=[{name:o("SMSVerify"),code:1},{name:o("emailverification"),code:2}]:T.value&&c.verifyMethods.email!==""?k.value=[{name:o("emailverification"),code:2}]:h.value&&c.verifyMethods.mobile!==""&&(k.value=[{name:o("SMSVerify"),code:1}])},ce=({selectedOptions:d})=>{r.value=f(d[0].code),a.value=d[0].code,m.value=!1},K=async()=>{if(a.value===1)if(await P(Ve({phone:c.verifyMethods.mobile,codeType:W.openGoogle})))J(o("sendSuccess"));else return-1;else if(await P(ke({email:c.verifyMethods.email,emailType:W.openGoogle})))J(o("sendSuccess"));else return-1};function re(){_.push({name:"CustomerService"})}function de(){_.push({name:"rpwd"})}return(d,n)=>{const M=V("NavBar"),D=V("svg-icon"),ue=V("van-icon"),ve=V("van-picker"),fe=V("van-popup"),R=L("lazy");return C(),$(se,null,[e("div",Le,[e("div",Ee,[u(M,{title:t(o)("googleAuthenticator"),class:"main","left-arrow":"",onClickLeft:n[0]||(n[0]=w=>t(_).go(-1))},null,8,["title"]),e("div",Fe,[S(e("img",Ke,null,512),[[R,t(E)("main","googleVerifyBg")]])])]),e("div",Re,[e("div",Ye,[e("div",He,[S(e("img",Je,null,512),[[R,t(N)("wallet","hint")]]),e("span",null,s(t(o)("googleIllustrate")),1)]),e("div",Qe,[u(D,{name:"hint"}),e("span",null,s(t(o)("googleTip1")),1)]),e("div",We,[u(D,{name:"hint"}),e("span",null,s(t(o)("googleTip2")),1)])])]),e("div",{class:"gverify-container-button",onClick:B},s(t(o)("turnGoogle")),1)]),ne(" 修改 短信&&密码验证弹窗修改 "),e("div",Ze,[u(ze,{show:v.value,"onUpdate:show":n[6]||(n[6]=w=>v.value=w),onConfirm:I,onCancel:le,showCancelBtn:t(g),cancelText:t(o)("otherverificationmethods"),title:t(r)},{content:U(()=>{var w,Y;return[e("div",Xe,[t(a)===1?(C(),$("div",et,[e("div",tt,[e("p",ot,s(t(o)("googleTip3")),1),e("p",nt,s(t(o)("googleTip4",[t(Se)()])),1)]),u(Q,{value:l.value,"onUpdate:value":n[1]||(n[1]=x=>l.value=x),isShowVerifyT:!1,sendFunc:K,typeP:"updatePhone"},null,8,["value"])])):t(a)===2?(C(),$("div",st,[e("div",at,[e("p",it,s(t(o)("googleTip3")),1),e("p",lt,s(t(o)("googleTip7",[t(xe)((Y=(w=t(c))==null?void 0:w.verifyMethods)==null?void 0:Y.email)])),1)]),u(Q,{value:l.value,"onUpdate:value":n[2]||(n[2]=x=>l.value=x),isShowVerifyT:!1,sendFunc:K,typeP:"updatePhone"},null,8,["value"])])):(C(),$("div",ct,[e("label",rt,[u(D,{name:"editPswIcon",class:"img"}),pe(" "+s(t(o)("withdrawDialogDesc2")),1)]),S(e("input",{class:"input",maxlength:"20","onUpdate:modelValue":n[3]||(n[3]=x=>l.value=x),type:"password",placeholder:t(o)("withdrawDialogPh")},null,8,dt),[[_e,l.value]]),e("p",ut,[u(ue,{class:"icon",name:"warning-o"}),e("span",null,s(t(o)("withdrawDialogDesc3")),1)]),e("div",vt,[e("span",{class:"pwd",onClick:n[4]||(n[4]=x=>de())},s(t(o)("withdrawDialogDesc4")),1),e("span",{class:"service",onClick:n[5]||(n[5]=x=>re())},s(t(o)("withdrawDialogDesc5")),1)])]))])]}),_:1},8,["show","showCancelBtn","cancelText","title"])]),u(fe,{show:m.value,"onUpdate:show":n[8]||(n[8]=w=>m.value=w),round:"",position:"bottom"},{default:U(()=>[u(ve,{"columns-field-names":O,columns:k.value,onCancel:n[7]||(n[7]=w=>m.value=!1),onConfirm:ce},null,8,["columns"])]),_:1},8,["show"])],64)}}});const pt=F(ft,[["__scopeId","data-v-1911143a"],["__file","/usr/local/jenkins-prod/workspace/ar077-india-jalwa/src/views/main/GoogleVerify/index.vue"]]),Ft=Object.freeze(Object.defineProperty({__proto__:null,default:pt},Symbol.toStringTag,{value:"Module"})),_t=i=>(X("data-v-85031541"),i=i(),ee(),i),gt={class:"gverify-container"},mt={class:"gverify-container-header"},yt={class:"gverify-container-header-belly"},ht={alt:""},wt={class:"gverify-container-content"},bt={class:"gverify-container-content-item"},$t=_t(()=>e("div",{class:"gverify-container-content-code"},[e("canvas",{id:"qr-code"})],-1)),Ct={class:"gverify-container-content-item-title"},St={alt:""},xt={class:"gverify-container-content-item-text"},Vt={class:"gverify-container-content-item-tip"},kt={class:"gverify-container-footer"},Tt={class:"gverify-container-content-item footer-wrapper"},Dt={class:"gverify-container-content-item-title"},Gt={alt:""},Bt={class:"gverify-container-content-item-steps"},It={alt:""},Mt={class:"gverify-container-content-item-steps"},Pt={class:"gverify-container-content-item-steps"},Nt={class:"gverify-container-content-item-steps"},Ot={class:"gverify-container-content-item-steps"},jt={key:0},At={key:1},Ut=q({__name:"index",setup(i){const{t:o}=z(),_=te(),y=ge(),{maxDate:G}=Te(0),c=me(G).startOf("day").format("YYYY-MM-DD"),r=y.query.secret,a=Z(()=>De().getProjectName),g=`otpauth://totp/${c}?secret=${y.query.secret}&issuer=${a.value}`,l=Number(y.query.type),m=async(p,v)=>{const B=v==0?Be({googleCode:p}):Ie({googleCode:p}),f=await P(B);(f==null?void 0:f.code)==0&&_.push({name:"main"})},k=()=>{Ge("https://support.google.com/accounts/answer/1066447",1)},O=()=>{h.value=!0},h=b(!1),T=p=>{m(p,l)};function j(){ye.toCanvas(document.getElementById("qr-code"),g,p=>{p&&console.error(p)})}return oe(()=>{j()}),(p,v)=>{const B=V("NavBar"),f=L("lazy");return C(),$(se,null,[e("div",gt,[e("div",mt,[u(B,{title:t(o)("googleVerify"),class:"main","left-arrow":"",onClickLeft:v[0]||(v[0]=I=>t(_).go(-1))},null,8,["title"]),e("div",yt,[S(e("img",ht,null,512),[[f,t(E)("main","googleVerifyBg")]])])]),e("div",wt,[e("div",bt,[$t,e("div",Ct,[S(e("img",St,null,512),[[f,t(N)("main","googleKey")]]),e("span",null,s(t(o)("safeKey")),1)]),e("div",xt,s(t(r)),1),e("div",{class:"gverify-container-content-item-button",onClick:v[1]||(v[1]=I=>t(Me)(t(r)))},s(t(o)("copyKey")),1),e("div",Vt,s(t(o)("tipSaveKeyProperly")),1)])]),e("div",kt,[e("div",Tt,[e("div",Dt,[S(e("img",Gt,null,512),[[f,t(N)("main","privacyIcon")]]),e("span",null,s(t(o)("bindStep")),1)]),e("div",Bt," 1."+s(t(o)("tipDownloadGoogleVerify")),1),e("div",{class:"footer-wrapper-button",onClick:k},[S(e("img",It,null,512),[[f,t(N)("main","gverifyDownload")]]),e("span",null,s(t(o)("downloadGoogleVerify")),1)]),e("div",Mt," 2."+s(t(o)("tipCopyKeyToBind")),1),e("div",Pt," 3."+s(t(o)("tipAddNewAccount")),1),e("div",Nt," 4."+s(t(o)("tipNametheAccountPasteTheKey")),1),e("div",Ot," 5."+s(t(o)("tipGenerateSuccessCode")),1)])]),e("div",{class:"gverify-container-button",onClick:O},[t(l)===0?(C(),$("span",jt,s(t(o)("confirmBinding")),1)):(C(),$("span",At,s(t(o)("closeGoogle")),1))])]),ne(" 验证弹窗 "),u(he,{showPopup:h.value,onOnConfirm:T,onOnBack:v[2]||(v[2]=I=>h.value=!1)},null,8,["showPopup"])],64)}}});const qt=F(Ut,[["__scopeId","data-v-85031541"],["__file","/usr/local/jenkins-prod/workspace/ar077-india-jalwa/src/views/main/GoogleVerify/BindGoogle/index.vue"]]),Kt=Object.freeze(Object.defineProperty({__proto__:null,default:qt},Symbol.toStringTag,{value:"Module"}));export{ze as D,Kt as a,Ft as i};
//# sourceMappingURL=page-main-GoogleVerify-bef68b93.js.map
